{"version":3,"file":"main.5cd9ec37ab912ba9fb43.js","sources":["webpack:///./src/react/Preview.css","webpack:///./src/react/Window.css","webpack:///./src/react/Tools.css","webpack:///./src/engine/physics/geometry/Rect.js","webpack:///./src/engine/physics/closestPointRect.js","webpack:///./src/react/state/reducers.js","webpack:///./src/engine/physics/collision/collideCircleCircle.js","webpack:///./src/engine/physics/geometry/Vector2.js","webpack:///./src/engine/findPlayerPosition.js","webpack:///./src/react/Inspector.css","webpack:///./src/engine/input/Input.js","webpack:///./src/react/Tileset.js","webpack:///./src/react/hooks/useCanvasWithMouse.js","webpack:///./src/index.css","webpack:///./src/react/MapEditor.css?c669","webpack:///./src/react/Tools.js","webpack:///./src/react/state/initialState.js","webpack:///./src/react/state/store.js","webpack:///./src/react/Inspector.css?6ce6","webpack:///./src/react/MapEditor.css","webpack:///./src/react/Tileset.css?7841","webpack:///./src/react/Window.js","webpack:///./src/engine/createWorld.js","webpack:///./src/engine/CharacterController.js","webpack:///./src/react/MapEditor.js","webpack:///./src/react/Window.css?75c3","webpack:///./src/react/Preview.js","webpack:///./src/engine/maths/clamp.js","webpack:///./src/engine/Time.js","webpack:///./src/engine/physics/collision/collideCircleRect.js","webpack:///./src/react/Preview.css?448a","webpack:///./src/engine/loop.js","webpack:///./src/engine/physics/distanceBetween.js","webpack:///./src/react/consts.js","webpack:///./src/engine/physics/separate.js","webpack:///./src/react/Tools.css?a932","webpack:///./src/react/Tileset.css","webpack:///./src/react/state/actions.js","webpack:///./src/engine/Game.js","webpack:///./src/engine/physics/closestPointCircle.js","webpack:///./src/react/util/tileset.js","webpack:///./src/engine/physics/collision/collidePointCircle.js","webpack:///./src/engine/physics/collision/CollisionResponse.js","webpack:///./src/react/state/selectors.js","webpack:///./src/index.css?fcb7","webpack:///./src/assets/fonts/m5x7.ttf","webpack:///./src/react/Inspector.js","webpack:///./src/engine/input/KeyCode.js","webpack:///./src/index.js","webpack:///./src/engine/consts.js","webpack:///./src/engine/createScene.js","webpack:///./src/engine/Physics.js","webpack:///./src/engine/physics/geometry/Circle.js","webpack:///./src/react/App.js"],"sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.Preview__canvas {\\n    display: block;\\n    background-color: #333333;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"canvas\": \"Preview__canvas\"\n};","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Window__container {\\n    background-color: #aaaaaa;\\n    margin: 10px;\\n    font-family: m5x7, monospace;\\n}\\n\\n.Window__header {\\n    background-color: #888888;\\n    color: #FFF;\\n    text-transform: uppercase;\\n    padding: 5px;\\n}\\n\\n.Window__body {\\n    padding: 5px;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"container\": \"Window__container\",\n\t\"header\": \"Window__header\",\n\t\"body\": \"Window__body\"\n};","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.Tools__button {\\n    background-color: #FFFFFF;\\n}\\n\\n.Tools__selected {\\n    background-color: #555555;\\n    color: #FFFFFF;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"button\": \"Tools__button\",\n\t\"selected\": \"Tools__selected\"\n};","import Vector2 from './Vector2'\n\nconst _v = new Vector2()\n\nexport default class Rect {\n\n  constructor (x = 0, y = 0, width = 1, height = 1) {\n    this.set(x, y, width, height)\n  }\n\n  get center () {\n    return _v.set(\n      this.x + this.width / 2,\n      this.y + this.height / 2,\n    )\n  }\n\n  set (x, y, width, height) {\n    this.x = x\n    this.y = y\n    this.width = width\n    this.height = height\n    return this\n  }\n}\n","import Vector2 from './geometry/Vector2'\n\n/**\n * Determine the closest point on a rect to another point\n * @param {Vector2|Circle} point\n * @param {Rect} rect\n * @param {Vector2} output\n * @return\n */\nexport default function closestPointRect (point, rect, output = new Vector2()) {\n\n  if (point.x < rect.x) {\n    output.x = rect.x\n  } else if (point.x > rect.x + rect.width) {\n    output.x = rect.x + rect.width\n  } else {\n    output.x = point.x\n  }\n\n  if (point.y < rect.y) {\n    output.y = rect.y\n  } else if (point.y > rect.y + rect.height) {\n    output.y = rect.y + rect.height\n  } else {\n    output.y = point.y\n  }\n\n  return output\n}\n","import { combineReducers } from 'redux'\nimport { SELECT_TILE, SELECT_TOOL, SET_MAP_TILE } from './actions'\nimport initialState from './initialState'\n\nconst selectedTile = (state = initialState.selectedTile, action) => {\n  switch (action.type) {\n    case SELECT_TILE: return action.payload.tile\n    default: return state\n  }\n}\n\nconst selectedTool = (state = initialState.selectedTool, action) => {\n  switch (action.type) {\n    case SELECT_TOOL: return action.payload.tool\n    default: return state\n  }\n}\n\nconst map = (state = initialState.map, action) => {\n  switch (action.type) {\n    case SET_MAP_TILE: return setMapTile(state, action.payload)\n    default: return state\n  }\n}\n\nfunction setMapTile (map, { x, y, tile }) {\n  const data = [...map.data]\n  const ix = (y * map.width) + x\n  data[ix] = tile\n  return {\n    ...map,\n    data\n  }\n}\n\nexport default combineReducers({\n  selectedTile,\n  selectedTool,\n  map\n})\n","import Vector2 from '../geometry/Vector2'\nimport distanceBetween from '../distanceBetween'\nimport closestPointCircle from '../closestPointCircle'\n\nconst _near = new Vector2()\n\n/**\n * Check collision between two Circles\n * @param {Circle} c1\n * @param {Circle} c2\n * @param {CollisionResponse} response\n * @return {boolean} if a collision occurred\n */\nexport default function collideCircleCircle (c1, c2, response = null) {\n\n  const dx = Math.abs(c1.x - c2.x)\n  const dy = Math.abs(c1.y - c2.y)\n  const dr = c1.radius + c2.radius\n\n  if (((dx * dx) + (dy * dy)) >= (dr * dr)) return false\n\n  if (response) {\n    closestPointCircle(c1, c2, _near)\n    const distance = distanceBetween(_near, c1)\n    response.position.set(_near.x, _near.y)\n    response.normal.set(c1.x, c1.y).subtract(_near).normalize()\n    response.depth = c1.radius - distance\n  }\n\n  return true\n}\n","export default class Vector2 {\n\n  static fromArray = ([x = 0, y = 0] = []) => {\n    return new Vector2(x, y)\n  }\n\n  constructor (x = 0, y = 0) {\n    this.x = x\n    this.y = y\n  }\n\n  set (x = 0, y = 0) {\n    this.x = x\n    this.y = y\n    return this\n  }\n\n  clone () {\n    return new Vector2(this.x, this.y)\n  }\n\n  copy (v) {\n    this.x = v.x\n    this.y = v.y\n    return this\n  }\n\n  multiply (scalar = 1) {\n    this.x *= scalar\n    this.y *= scalar\n    return this\n  }\n\n  divide (scalar = 1) {\n    this.x /= scalar\n    this.y /= scalar\n    return this\n  }\n\n  add (vector) {\n    this.x += vector.x\n    this.y += vector.y\n    return this\n  }\n\n  subtract (vector) {\n    this.x -= vector.x\n    this.y -= vector.y\n    return this\n  }\n\n  abs () {\n    this.x = Math.abs(this.x)\n    this.y = Math.abs(this.y)\n    return this\n  }\n\n  floor () {\n    this.x = Math.floor(this.x)\n    this.y = Math.floor(this.y)\n    return this\n  }\n\n  zero () {\n    this.x = 0\n    this.y = 0\n    return this\n  }\n\n  isZero () {\n    return this.x === 0 && this.y === 0\n  }\n\n  magnitude () {\n    return Math.sqrt((this.x * this.x) + (this.y * this.y))\n  }\n\n  /**\n   * alters the length of the vector without changing the direction\n   * for example: [0,5].setMagnitude(2) = [0,2]\n   * @return {Vector2} the modified original vector\n   */\n  setMagnitude (scalar) {\n    return this.normalize().multiply(scalar)\n  }\n\n  normalize () {\n    // shortcuts to avoid magnitude sqrt\n    if (this.isZero()) return this\n\n    if (this.x === 0) {\n      this.y = this.y > 0 ? 1 : -1\n      return this\n    }\n\n    if (this.y === 0) {\n      this.x = this.x > 0 ? 1 : -1\n      return this\n    }\n\n    const magnitude = this.magnitude()\n\n    this.x /= magnitude\n    this.y /= magnitude\n\n    return this\n  }\n\n  rotate (a) {\n    const cos = Math.cos(a)\n    const sin = Math.sin(a)\n    const x = (cos * this.x) - (sin * this.y)\n    const y = (sin * this.x) + (cos * this.y)\n    this.x = x\n    this.y = y\n    return this\n  }\n\n  toArray () {\n    return [this.x, this.y]\n  }\n}\n\nVector2.right = new Vector2(1, 0)\nVector2.left = new Vector2(-1, 0)\nVector2.up = new Vector2(0, -1)\nVector2.down = new Vector2(0, 1)\n\n","import { TILE_SIZE } from './consts'\n\nexport default function findPlayerPosition (map) {\n\n  const TILE_TYPE_PLAYER = 3\n\n  const index = map.data.findIndex(tile => tile === TILE_TYPE_PLAYER)\n\n  const x = (index % map.width) * TILE_SIZE\n  const y = Math.floor(index / map.width) * TILE_SIZE\n\n  // convert from 2d [x, y] to 3d [x, y, z]\n  return [x, 0, y]\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","import KeyCode, { getKeyForCode } from './KeyCode'\nimport Vector2 from '../physics/geometry/Vector2'\n\nconst buttons = {}\nconst downKeys = {}\nconst downKeysThisFrame = {}\nconst upKeysThisFrame = {}\n\nconst mousePosition = new Vector2()\nconst mouseMove = new Vector2()\n\nconst MouseX = 'MouseX'\nconst MouseY = 'MouseY'\n\nconst LOCATION_LEFT = 1\nconst LOCATION_RIGHT = 2\n\nconst determineCode = event => {\n  switch (event.keyCode) {\n    case KeyCode.Shift:\n      if (event.location === LOCATION_LEFT) return KeyCode.LeftShift\n      else if (event.location === LOCATION_RIGHT) return KeyCode.RightShift\n      break\n    case KeyCode.Control:\n      if (event.location === LOCATION_LEFT) return KeyCode.LeftControl\n      else if (event.location === LOCATION_RIGHT) return KeyCode.RightControl\n      break\n  }\n  return event.keyCode\n}\n\nconst handleKeyDown = event => {\n  const code = determineCode(event)\n  downKeys[code] = true\n  downKeysThisFrame[code] = true\n}\n\nconst handleKeyUp = event => {\n  const code = determineCode(event)\n  delete downKeys[code]\n  upKeysThisFrame[code] = true\n}\n\nconst getKey = key => {\n  return downKeys[key] === true\n}\n\nconst getKeyDown = key => {\n  return downKeysThisFrame[key] === true\n}\n\nconst getKeyUp = key => {\n  return upKeysThisFrame[key] === true\n}\n\n// reset at end of frame\nconst clear = () => {\n  for (let key in downKeysThisFrame) {\n    delete downKeysThisFrame[key]\n  }\n  for (let key in upKeysThisFrame) {\n    delete upKeysThisFrame[key]\n  }\n}\n\nconst bind = target => {\n  target.addEventListener('keydown', handleKeyDown)\n  target.addEventListener('keyup', handleKeyUp)\n  target.addEventListener('mousemove', handleMouseMove)\n}\n\nconst unbind = target => {\n  target.removeEventListener('keydown', handleKeyDown)\n  target.removeEventListener('keyup', handleKeyUp)\n  target.removeEventListener('mousemove', handleMouseMove)\n}\n\nlet timeout\n\nconst handleMouseMove = event => {\n  clearTimeout(timeout)\n  const { movementX, movementY, clientX, clientY } = event\n  mousePosition.x = clientX\n  mousePosition.y = clientY\n  mouseMove.x = movementX || 0\n  mouseMove.y = movementY || 0\n  timeout = setTimeout(clearMouseMove, 50)\n}\n\nconst clearMouseMove = () => {\n  mouseMove.x = 0\n  mouseMove.y = 0\n}\n\nconst getAxis = axis => {\n  switch (axis) {\n    case MouseX: return mouseMove.x\n    case MouseY: return mouseMove.y\n  }\n}\n\nconst createButton = (name, ...keyCodes) => {\n  buttons[name] = keyCodes\n  return name\n}\n\nconst getButton = name => {\n  const button = buttons[name]\n  if (!button) return false\n  return button.some(getKey)\n}\n\nconst getButtonDown = name => {\n  const button = buttons[name]\n  if (!button) return false\n  return button.some(getKeyDown)\n}\n\nconst getButtonUp = name => {\n  const button = buttons[name]\n  if (!button) return false\n  return button.some(getKeyUp)\n}\n\nconst isButton = (keyCode, name) => buttons[name] && buttons[name].includes(keyCode)\n\nfunction checkExistingButtons (keyCodes) {\n  const btns = Object.entries(buttons)\n  keyCodes.forEach(code => {\n    btns.forEach(([name, codes]) => {\n      if (codes.includes(code)) {\n        const codeName = getKeyForCode(code)\n        console.warn(`WARNING: Key '${codeName}' already assigned to button '${name}'`)\n      }\n    })\n  })\n}\n\nexport default {\n  bind,\n  unbind,\n  createButton,\n  getKey,\n  getAxis,\n  getKeyDown,\n  getButton,\n  getButtonDown,\n  getButtonUp,\n  isButton,\n  mousePosition,\n  MouseX,\n  MouseY,\n  clear\n}\n","import React, { useRef, useEffect } from 'react'\nimport styles from './Tileset.css'\nimport useCanvasWithMouse from './hooks/useCanvasWithMouse'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { selectTileAction, selectToolAction } from './state/actions'\nimport { selectedTileSelector, selectedToolSelector } from './state/selectors'\nimport { getPositionFromTileIndex, getTileIndexFromPosition } from './util/tileset'\nimport { TOOLS } from './consts'\nimport Window from './Window'\n\nexport default function Tileset ({ tileset }) {\n\n  const canvasRef = useRef(null)\n  const [ctx, mousePosition] = useCanvasWithMouse(canvasRef)\n  const dispatch = useDispatch()\n  const selectedTile = useSelector(selectedTileSelector)\n  const selectedTool = useSelector(selectedToolSelector)\n\n  useEffect(() => {\n    draw()\n  }, [ctx, selectedTile])\n\n  function handleClick () {\n    const tile = getTileIndexFromPosition(mousePosition, tileset)\n    dispatch(selectTileAction(tile))\n    // reset tool selection\n    if (selectedTool !== TOOLS.PAINT) {\n      dispatch(selectToolAction(TOOLS.PAINT))\n    }\n  }\n\n  function draw () {\n    if (!ctx) return\n    const width = tileset.width\n    const height = tileset.height\n    const size = tileset.tileSize\n\n    ctx.clearRect(0, 0, width, height)\n    ctx.drawImage(tileset.image, 0, 0)\n\n    ctx.translate(0.5, 0.5)\n\n    const [x, y] = getPositionFromTileIndex(selectedTile, tileset)\n    ctx.strokeStyle = '#FFFFFF'\n    ctx.strokeRect(x, y, size, size)\n\n    ctx.translate(-0.5, -0.5)\n  }\n\n  return (\n    <Window title={'tileset'}>\n      <canvas\n        ref={canvasRef}\n        className={styles.canvas}\n        width={tileset.width}\n        height={tileset.height}\n        onClick={handleClick}\n      />\n    </Window>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nexport default function useCanvasWithMouse (canvasRef) {\n\n  const [ ctx, setCtx ] = useState(null)\n  const [ rect, setRect ] = useState(null)\n  const [ mousePosition, setMousePosition ] = useState(null)\n  const [ mouseDown, setMouseDown ] = useState(false)\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const ctx = canvas.getContext('2d')\n    setCtx(ctx)\n    setRect(canvas.getBoundingClientRect())\n  }, [canvasRef.current])\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n\n    function handleMouseMove (e) {\n      const mousePosition = {\n        x: e.pageX - rect.x,\n        y: e.pageY - rect.y,\n      }\n      setMousePosition(mousePosition)\n    }\n\n    function handleMouseLeave () {\n      setMousePosition(null)\n      setMouseDown(false)\n    }\n\n    function handleMouseDown () {\n      setMouseDown(true)\n    }\n\n    function handleMouseUp () {\n      setMouseDown(false)\n    }\n\n    canvas.addEventListener('mousemove', handleMouseMove)\n    canvas.addEventListener('mouseleave', handleMouseLeave)\n    canvas.addEventListener('mousedown', handleMouseDown)\n    canvas.addEventListener('mouseup', handleMouseUp)\n\n    return () => {\n      canvas.removeEventListener('mousemove', handleMouseMove)\n      canvas.removeEventListener('mouseleave', handleMouseLeave)\n      canvas.removeEventListener('mousedown', handleMouseDown)\n      canvas.removeEventListener('mouseup', handleMouseUp)\n    }\n  }, [canvasRef.current, rect])\n\n  return [ctx, mousePosition, mouseDown]\n}\n","var escape = require(\"../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body {\\n    height: 100%;\\n    margin: 0;\\n    font-size: 16pt;\\n}\\n\\n@font-face {\\n    font-family: m5x7;\\n    src: url(\" + escape(require(\"./assets/fonts/m5x7.ttf\")) + \");\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./MapEditor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./MapEditor.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./MapEditor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport classnames from 'classnames'\nimport styles from './Tools.css'\nimport { TOOLS } from './consts'\nimport { selectToolAction } from './state/actions'\nimport { selectedToolSelector } from './state/selectors'\nimport Window from './Window'\n\nexport default function Tools () {\n\n  const selectedTool = useSelector(selectedToolSelector)\n  const dispatch = useDispatch()\n\n  function selectTool (tool) {\n    if (tool !== selectedTool) {\n      dispatch(selectToolAction(tool))\n    }\n  }\n\n  return (\n    <Window title={'Tools'}>\n      <button\n        onClick={() => selectTool(TOOLS.PAINT)}\n        className={classnames(styles.button, selectedTool === TOOLS.PAINT && styles.selected)}\n      >\n        paint\n      </button>\n      <button\n        onClick={() => selectTool(TOOLS.ERASE)}\n        className={classnames(styles.button, selectedTool === TOOLS.ERASE && styles.selected)}\n      >\n        erase\n      </button>\n      {/*<button*/}\n      {/*  onClick={() => selectTool(TOOLS.INSPECT)}*/}\n      {/*  className={classnames(styles.button, selectedTool === TOOLS.INSPECT && styles.selected)}*/}\n      {/*>*/}\n      {/*  inspect*/}\n      {/*</button>*/}\n    </Window>\n  )\n}\n","import { TOOLS } from '../consts'\n\nexport default {\n  selectedTile: 1,\n  selectedTool: TOOLS.PAINT,\n  map: {\n    width: 16,\n    height: 16,\n    tileSize: 16,\n    data: [\n      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n      0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,\n      0,0,0,2,1,1,1,1,1,1,2,2,2,2,2,0,\n      0,0,0,2,1,1,1,1,1,1,1,0,0,0,2,0,\n      0,0,0,2,1,1,1,1,1,1,2,2,2,0,2,0,\n      0,0,0,2,1,1,1,1,1,1,2,0,2,0,2,0,\n      0,0,0,2,2,2,2,2,2,2,2,0,2,0,2,0,\n      0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,\n      0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,\n      0,0,0,0,0,0,0,0,2,2,2,2,2,0,2,0,\n      0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,\n      0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,\n      0,0,0,0,0,0,0,0,2,0,0,0,0,0,2,0,\n      0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,0,\n      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n    ],\n  }\n}\n","import { createStore } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport reducers from './reducers'\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\n\nexport default () => {\n  let store = createStore(\n    persistedReducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n  let persistor = persistStore(store)\n  return [ store, persistor ]\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Inspector.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Inspector.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Inspector.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".MapEditor__canvas {\\n    display: block;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"canvas\": \"MapEditor__canvas\"\n};","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tileset.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tileset.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tileset.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport styles from './Window.css'\n\nexport default function Window ({ title, children }) {\n  return (\n    <div className={styles.container}>\n      <div className={styles.header}>\n        {title}\n      </div>\n      <div className={styles.body}>\n        {children}\n      </div>\n    </div>\n  )\n}\n","import {\n  BoxGeometry,\n  Color, GeometryUtils,\n  Mesh,\n  MeshBasicMaterial,\n  NearestFilter,\n  Object3D,\n  PlaneGeometry,\n  TextureLoader\n} from 'three'\n\nimport { TILE_SIZE, WALL_HEIGHT } from './consts'\nimport Rect from './physics/geometry/Rect'\nimport Physics from './Physics'\n\n\nexport default function createWorld (map) {\n\n  const world = new Object3D()\n\n  const colliders = []\n\n  for (let y = 0; y < map.height; y++) {\n    for (let x = 0; x < map.width; x++) {\n      const ix = (y * map.width) + x\n      const tile = map.data[ix]\n      if (tile === 0) continue\n      const dx = x * TILE_SIZE\n      const dy = y * TILE_SIZE\n      let mesh\n      if (tile === 2) {\n        mesh = wallMesh.clone()\n        const collider = new Rect(\n          dx - TILE_SIZE / 2,\n          dy - TILE_SIZE / 2,\n          TILE_SIZE,\n          TILE_SIZE\n        )\n        colliders.push(collider)\n      } else {\n        mesh = floorMesh.clone()\n      }\n      // 2d to 3d\n      mesh.position.set(dx, 0, dy)\n      world.add(mesh)\n    }\n  }\n\n  Physics.setColliders(colliders)\n\n  return world\n}\n\nconst loader = new TextureLoader()\n\nconst wallTexture = loader.load('./assets/wall.png')\nwallTexture.magFilter = NearestFilter\nwallTexture.minFilter = NearestFilter\n\nconst floorTexture = loader.load('./assets/floor.png')\nfloorTexture.magFilter = NearestFilter\nfloorTexture.minFilter = NearestFilter\n\nconst wallMaterial = new MeshBasicMaterial({ map: wallTexture })\nconst wallGeometry = new BoxGeometry(TILE_SIZE, WALL_HEIGHT, TILE_SIZE)\nwallGeometry.translate(0, WALL_HEIGHT / 2, 0)\nconst wallMesh = new Mesh(wallGeometry, wallMaterial)\n\nconst floorMaterial = new MeshBasicMaterial({ map: floorTexture })\n\nconst floorGeometry = new PlaneGeometry(TILE_SIZE, TILE_SIZE)\nfloorGeometry.rotateX(-Math.PI / 2)\n\nconst ceilingGeometry = new PlaneGeometry(TILE_SIZE, TILE_SIZE)\nceilingGeometry.rotateX(Math.PI / 2)\nceilingGeometry.translate(0, WALL_HEIGHT, 0)\n\nGeometryUtils.merge(floorGeometry, ceilingGeometry)\n\nconst floorMesh = new Mesh(floorGeometry, floorMaterial)\n","import { Object3D, Vector3 } from 'three'\nimport KeyCode from './input/KeyCode'\nimport Input from './input/Input'\nimport clamp from './maths/clamp'\nimport Circle from './physics/geometry/Circle'\nimport separate from './physics/separate'\nimport Physics from './Physics'\n\nconst halfPi = Math.PI / 2\n\nexport default class CharacterController extends Object3D {\n\n  enabled = false\n  eyeHeight = 1.8\n  velocity = new Vector3()\n  direction = new Vector3()\n\n  collider = null\n  mouseSensitivity = 0.6\n  speed = 100\n  runSpeed = 200\n\n  constructor (camera) {\n    super()\n\n    this.pitch = new Object3D()\n    this.pitch.position.y = this.eyeHeight\n\n    this.add(this.pitch)\n    this.pitch.add(camera)\n\n    this.collider = new Circle(0, 0, 0.6)\n\n    this.controls = {\n      forward: Input.createButton('forward', KeyCode.W, KeyCode.UpArrow),\n      back: Input.createButton('back', KeyCode.S, KeyCode.DownArrow),\n      left: Input.createButton('left', KeyCode.A, KeyCode.LeftArrow),\n      right: Input.createButton('right', KeyCode.D, KeyCode.RightArrow),\n      run: Input.createButton('run', KeyCode.LeftShift),\n    }\n  }\n\n  resetRotation (y, x) {\n    this.rotation.y = y\n    this.pitch.rotation.x = x\n  }\n\n  handleMouseInput (delta) {\n    // apply mouse movement\n    this.rotation.y -= Input.getAxis(Input.MouseX) * delta * this.mouseSensitivity\n    this.pitch.rotation.x -= Input.getAxis(Input.MouseY) * delta * this.mouseSensitivity\n\n    // clamp between straight down and straight up\n    this.pitch.rotation.x = clamp(this.pitch.rotation.x, -halfPi, halfPi)\n  }\n\n  handleKeyboardInput (delta) {\n\n    const moveForward = Input.getButton(this.controls.forward)\n    const moveBack = Input.getButton(this.controls.back)\n    const moveLeft = Input.getButton(this.controls.left)\n    const moveRight = Input.getButton(this.controls.right)\n    const running = Input.getButton(this.controls.run)\n\n    // apply damping\n    this.velocity.x -= this.velocity.x * 10.0 * delta\n    this.velocity.z -= this.velocity.z * 10.0 * delta\n\n    this.direction.z = moveForward - moveBack\n    this.direction.x = moveLeft - moveRight\n    this.direction.normalize()\n\n    const z = this.direction.z * (running ? this.runSpeed : this.speed)\n    const x = this.direction.x * (running ? this.runSpeed : this.speed)\n\n    if (moveForward || moveBack) this.velocity.z -= z * delta\n    if (moveLeft || moveRight) this.velocity.x -= x * delta\n  }\n\n  handlePhysics () {\n    // copy position to the collider\n    this.collider.x = this.position.x\n    this.collider.y = this.position.z\n\n    // stop the player going into the cubes\n    const colliders = Physics.getColliders(this)\n\n    separate(this.collider, colliders)\n\n    // update the player controller based on the collider\n    this.position.set(this.collider.x, 0, this.collider.y)\n  }\n\n  update (delta) {\n    if (!this.enabled) return\n\n    this.handleMouseInput(delta)\n    this.handleKeyboardInput(delta)\n\n    this.translateX(this.velocity.x * delta)\n    this.translateZ(this.velocity.z * delta)\n\n    this.handlePhysics()\n  }\n}\n","import React, { useRef, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport styles from './MapEditor.css'\nimport useCanvasWithMouse from './hooks/useCanvasWithMouse'\nimport { mapSelector, selectedTileSelector, selectedToolSelector } from './state/selectors'\nimport { getPositionFromTileIndex } from './util/tileset'\nimport { setMapTileAction } from './state/actions'\nimport { TOOLS } from './consts'\nimport Window from './Window'\n\nexport default function MapEditor ({ tileset, backgroundColor = '#7a7a7a', gridColor = '#959595' }) {\n\n  const canvasRef = useRef(null)\n  const dispatch = useDispatch()\n  const selectedTile = useSelector(selectedTileSelector)\n  const map = useSelector(mapSelector)\n  const selectedTool = useSelector(selectedToolSelector)\n  const [ currentTileIndex, setCurrentTileIndex ] = useState(null)\n  const [ctx, mousePosition, mouseDown] = useCanvasWithMouse(canvasRef)\n\n  useEffect(() => {\n    draw()\n  }, [ctx, map, mousePosition])\n\n  function handleMouseDown () {\n    if (selectedTool === TOOLS.INSPECT) {\n      console.log(1)\n    } else {\n      paintCurrentMapTile()\n    }\n  }\n\n  function handleMouseMove () {\n    const size = map.tileSize\n    const x = Math.floor(mousePosition.x / size)\n    const y = Math.floor(mousePosition.y / size)\n    const index = (y * map.width) + x\n    if (mouseDown && currentTileIndex !== index) {\n      paintCurrentMapTile()\n    }\n    setCurrentTileIndex(index)\n  }\n\n  function paintCurrentMapTile () {\n    let tile\n    if (selectedTool === TOOLS.PAINT) {\n      tile = selectedTile\n    } else if (selectedTool === TOOLS.ERASE) {\n      tile = 0\n    }\n    const size = map.tileSize\n    const x = Math.floor(mousePosition.x / size)\n    const y = Math.floor(mousePosition.y / size)\n    dispatch(setMapTileAction(x, y, tile))\n  }\n\n  function draw () {\n    if (!ctx) return\n    const size = map.tileSize\n    const width = map.width * size\n    const height = map.height * size\n    ctx.fillStyle = backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    drawTiles(ctx, map, tileset)\n    drawGrid(ctx, width, height, size, gridColor)\n    if (mousePosition) {\n      const x = Math.floor(mousePosition.x / size) * size\n      const y = Math.floor(mousePosition.y / size) * size\n      drawCursor(ctx, x, y, selectedTile, selectedTool, map, tileset)\n    }\n  }\n\n  return (\n    <Window title={'Editor'}>\n      <canvas\n        ref={canvasRef}\n        className={styles.canvas}\n        width={map.width * map.tileSize}\n        height={map.height * map.tileSize}\n        onMouseDown={handleMouseDown}\n        onMouseMove={handleMouseMove}\n      />\n    </Window>\n  )\n}\n\nfunction drawGrid (ctx, width, height, size, gridColor) {\n\n  ctx.translate(0.5, 0.5)\n  ctx.strokeStyle = gridColor\n\n  for (let y = size; y < height; y += size) {\n    ctx.moveTo(0, y)\n    ctx.lineTo(width, y)\n  }\n\n  for (let x = size; x < width; x += size) {\n    ctx.moveTo(x, 0)\n    ctx.lineTo(x, height)\n  }\n\n  ctx.stroke()\n  ctx.translate(-0.5, -0.5)\n}\n\nfunction drawCursor (ctx, dx, dy, selectedTile, selectedTool, map, tileset) {\n\n  const [sx, sy] = getPositionFromTileIndex(selectedTile, tileset)\n\n  if (selectedTool === TOOLS.PAINT) {\n    ctx.drawImage(tileset.image, sx, sy, map.tileSize, map.tileSize, dx, dy, tileset.tileSize, tileset.tileSize)\n  }\n\n  ctx.fillStyle = 'rgba(255, 255, 255, 0.3)'\n  ctx.fillRect(dx, dy, map.tileSize, map.tileSize)\n}\n\nfunction drawTiles (ctx, map, tileset) {\n  for (let y = 0; y < map.height; y++) {\n    for (let x = 0; x < map.width; x++) {\n      const ix = (y * map.width) + x\n      const tile = map.data[ix]\n      if (tile === 0) continue\n      const dx = x * map.tileSize\n      const dy = y * map.tileSize\n      const [sx, sy] = getPositionFromTileIndex(tile, tileset)\n      ctx.drawImage(\n        tileset.image,\n        sx,\n        sy,\n        tileset.tileSize,\n        tileset.tileSize,\n        dx,\n        dy,\n        map.tileSize,\n        map.tileSize\n      )\n    }\n  }\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Window.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Window.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Window.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { useRef, useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { mapSelector } from './state/selectors'\nimport Game from '../engine/Game'\nimport styles from './Preview.css'\nimport Window from './Window'\n\nexport default function Preview () {\n\n  const canvasRef = useRef(null)\n  const [ running, setRunning ] = useState(false)\n  const [ game, setGame ] = useState(null)\n  const map = useSelector(mapSelector)\n\n  useEffect(() => {\n    const game = new Game(canvasRef.current)\n    setGame(game)\n  }, [])\n\n  function handlePlay () {\n    setRunning(true)\n    game.start(map)\n    game.onStop = () => {\n      setRunning(false)\n    }\n  }\n\n  return (\n    <Window title={'Preview'}>\n      <canvas\n        ref={canvasRef}\n        tabIndex={1}\n        className={styles.canvas}\n        width={320}\n        height={180}\n      />\n      <button onClick={handlePlay}>{running ? 'pause' : 'play'}</button>\n    </Window>\n  )\n}\n","/**\n * @param number\n * @param min\n * @param max\n * @returns {number}\n */\nexport default function clamp (number, min, max) {\n  return Math.min(Math.max(number, min), max)\n}\n","class Time {\n  constructor () {\n    this._prev = null\n    this.deltaTime = 0\n  }\n\n  update (time) {\n    this.deltaTime = (this._prev === null ? 0 : time - this._prev) / 1000\n    this._prev = time\n  }\n}\n\nexport default new Time()\n","import Vector2 from '../geometry/Vector2'\nimport nearestPointRect from '../closestPointRect'\nimport collidePointCircle from './collidePointCircle'\nimport distanceBetween from '../distanceBetween'\n\nconst _near = new Vector2()\n\n/**\n * Check collision between a Circle and a Rect\n * @param {Circle} circle\n * @param {Rect} rect\n * @param {CollisionResponse} response\n * @return {boolean} if a collision occurred\n */\nexport default function collideCircleRect (circle, rect, response = null) {\n\n  nearestPointRect(circle, rect, _near.zero())\n\n  if (!collidePointCircle(_near, circle)) return false\n\n  if (response) {\n    const distance = distanceBetween(_near, circle)\n    response.position.set(_near.x, _near.y)\n    response.normal.set(circle.x, circle.y).subtract(_near).normalize()\n    response.depth = circle.radius - distance\n  }\n\n  return true\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Preview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Preview.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Preview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* global requestAnimationFrame */\nimport Time from './Time'\n\nexport default function loop (fn) {\n  let id\n  const step = time => {\n    id = requestAnimationFrame(step)\n    Time.update(time)\n    fn(Time.deltaTime)\n  }\n  step()\n  return () => cancelAnimationFrame(id)\n}\n","export default function distanceBetween (v1, v2) {\n  const dx = Math.abs(v1.x - v2.x)\n  const dy = Math.abs(v1.y - v2.y)\n  return Math.sqrt((dx * dx) + (dy * dy))\n}\n","export const TOOLS = Object.freeze({\n  PAINT: 'PAINT',\n  ERASE: 'ERASE',\n  INSPECT: 'INSPECT'\n})\n","import CollisionResponse from './collision/CollisionResponse'\nimport collideCircleRect from './collision/collideCircleRect'\nimport Rect from './geometry/Rect'\nimport Circle from './geometry/Circle'\nimport collideCircleCircle from './collision/collideCircleCircle'\n\nconst _response = new CollisionResponse()\n\nexport default function (target, obstacles) {\n  for (const obstacle of obstacles) {\n    const collisionFn = getCollisionFn(target, obstacle)\n    if (collisionFn(target, obstacle, _response)) {\n      const mtd = _response.mtd\n      target.x += mtd.x\n      target.y += mtd.y\n    }\n  }\n}\n\n// TODO currently assumes target is always a circle\nconst getCollisionFn = (target, obstacle) => {\n  if (obstacle instanceof Rect) return collideCircleRect\n  if (obstacle instanceof Circle) return collideCircleCircle\n}\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tools.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tools.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--9-1!./Tools.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Tileset__canvas {\\n    display: block;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"canvas\": \"Tileset__canvas\"\n};","export const SELECT_TILE = 'SELECT_TILE'\nexport const SELECT_TOOL = 'SELECT_TOOL'\nexport const SET_MAP_TILE = 'SET_MAP_TILE'\n\nexport const selectTileAction = (tile) => ({\n  type: SELECT_TILE,\n  payload: { tile }\n})\n\nexport const selectToolAction = (tool) => ({\n  type: SELECT_TOOL,\n  payload: { tool }\n})\n\nexport const setMapTileAction = (x, y, tile) => ({\n  type: SET_MAP_TILE,\n  payload: { x, y, tile }\n})\n","import { PerspectiveCamera, WebGLRenderer } from 'three'\nimport createScene from './createScene'\nimport CharacterController from './CharacterController'\nimport Input from './input/Input'\nimport { HEIGHT, WIDTH } from './consts'\nimport loop from './loop'\nimport createWorld from './createWorld'\nimport findPlayerPosition from './findPlayerPosition'\n\nexport default class Game {\n\n  constructor (canvas) {\n\n    this.canvas = canvas\n    this.scene = createScene()\n    this.renderer = new WebGLRenderer({ canvas })\n    this.camera = new PerspectiveCamera(45, WIDTH / HEIGHT, 0.1, 1000)\n    this.controller = new CharacterController(this.camera)\n    this.scene.add(this.controller)\n\n    this.setupPointerLock(canvas)\n  }\n\n  start (map) {\n    Input.bind(this.canvas)\n\n    this.world = createWorld(map)\n\n    const [x, y, z] = findPlayerPosition(map)\n\n    this.controller.position.set(x, y, z)\n    this.controller.resetRotation(Math.PI, 0)\n    this.controller.handlePhysics() // force update the 2d collider\n\n    this.scene.add(this.world)\n\n    this.canvas.focus()\n    this.canvas.requestPointerLock()\n\n    this.cancelLoop = loop(this.tick)\n  }\n\n  stop () {\n    Input.unbind(this.canvas)\n    this.world.children.forEach(child => {\n      this.world.remove(child)\n    })\n    this.canvas.blur()\n    this.cancelLoop()\n    this.onStop()\n  }\n\n  tick = (deltaTime) => {\n\n    this.controller.update(deltaTime)\n\n    this.renderer.render(this.scene, this.camera)\n\n    Input.clear()\n  }\n\n  setupPointerLock (domElement) {\n\n    const handlePointerLockChange = () => {\n      if (document.pointerLockElement === domElement) {\n        this.controller.enabled = true\n      } else {\n        this.controller.enabled = false\n        this.stop()\n      }\n    }\n\n    const handlePointerLockError = () => {\n      return console.warn('Pointer Lock Error')\n    }\n\n    document.addEventListener('pointerlockchange', handlePointerLockChange)\n    document.addEventListener('pointerlockerror', handlePointerLockError)\n  }\n}\n","import Vector2 from './geometry/Vector2'\n\n/**\n * Determine the closest point on a circle to a reference point\n * @param {Vector2} point a point in space\n * @param {Circle} circle a circle\n * @param {Vector2} output\n * @return {Vector2} the closest point on the circle to the point\n */\nexport default function closestPointCircle (point, circle, output = new Vector2()) {\n\n  output.set(\n    point.x - circle.x,\n    point.y - circle.y\n  )\n\n  if (((output.x * output.x) + (output.y * output.y)) < (circle.radius * circle.radius)) {\n    return output.set(point.x, point.y)\n  }\n\n  return output.setMagnitude(circle.radius).add(circle)\n}\n","\nexport function getTileIndexFromPosition (mousePosition, tileset) {\n  const columns = tileset.width / tileset.tileSize\n  const x = Math.floor(mousePosition.x / tileset.tileSize)\n  const y = Math.floor(mousePosition.y / tileset.tileSize)\n  // indices are shifted by 1 to allow zero to represent empty space\n  return (y * columns) + x + 1\n}\n\nexport function getPositionFromTileIndex (index, tileset) {\n  // indices are shifted by 1 to allow zero to represent empty space\n  index = index - 1\n  const columns = tileset.width / tileset.tileSize\n  const x = (index % columns) * tileset.tileSize\n  const y = Math.floor(index / columns) * tileset.tileSize\n  return [x, y]\n}\n","/**\n * calculate collision between a point and a Circle\n * @param {Vector2} point\n * @param {Circle} circle\n * @return {boolean} if the point is inside the circle\n */\nexport default function collidePointCircle (point, circle) {\n\n  const dx = Math.abs(circle.x - point.x)\n  const dy = Math.abs(circle.y - point.y)\n\n  return (dx * dx) + (dy * dy) < (circle.radius * circle.radius)\n}\n","import Vector2 from '../geometry/Vector2'\n\nexport default class CollisionResponse {\n\n  position = new Vector2()\n  normal = new Vector2()\n  depth = 0\n  _mtd = new Vector2()\n\n  reset () {\n    this.position.zero()\n    this.normal.zero()\n    this.depth = 0\n    this._mtd.zero()\n  }\n\n  get mtd () {\n    return this._mtd.set(this.normal.x, this.normal.y).multiply(this.depth)\n  }\n}\n","export const selectedTileSelector = state => state.selectedTile\nexport const selectedToolSelector = state => state.selectedTool\n\nexport const mapSelector = state => state.map\n","\nvar content = require(\"!!../node_modules/css-loader/index.js??ref--9-1!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js??ref--9-1!./index.css\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js??ref--9-1!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"assets/fonts/m5x7.ttf\";","import React from 'react'\nimport styles from './Inspector.css'\nimport Window from './Window'\n\nexport default function Inspector () {\n\n  return (\n    <Window title={'inspector'}>\n???\n    </Window>\n  )\n}\n","const keyCodes = {\n  Backspace: 8,\n  Tab: 9,\n  Enter: 13,\n  Pause: 19,\n  Caps: 20,\n  Esc: 27,\n  Space: 32,\n  PageUp: 33,\n  PageDown: 34,\n  End: 35,\n  Home: 36,\n  LeftArrow: 37,\n  UpArrow: 38,\n  RightArrow: 39,\n  DownArrow: 40,\n  Insert: 45,\n  Delete: 46,\n  Alpha0: 48,\n  Alpha1: 49,\n  Alpha2: 50,\n  Alpha3: 51,\n  Alpha4: 52,\n  Alpha5: 53,\n  Alpha6: 54,\n  Alpha7: 55,\n  Alpha8: 56,\n  Alpha9: 57,\n  A: 65,\n  B: 66,\n  C: 67,\n  D: 68,\n  E: 69,\n  F: 70,\n  G: 71,\n  H: 72,\n  I: 73,\n  J: 74,\n  K: 75,\n  L: 76,\n  M: 77,\n  N: 78,\n  O: 79,\n  P: 80,\n  Q: 81,\n  R: 82,\n  S: 83,\n  T: 84,\n  U: 85,\n  V: 86,\n  W: 87,\n  X: 88,\n  Y: 89,\n  Z: 90,\n  Keypad0: 96,\n  Keypad1: 97,\n  Keypad2: 98,\n  Keypad3: 99,\n  Keypad4: 100,\n  Keypad5: 101,\n  Keypad6: 102,\n  Keypad7: 103,\n  Keypad8: 104,\n  Keypad9: 105,\n  KeypadMultiply: 106,\n  KeypadPlus: 107,\n  KeypadMinus: 109,\n  KeypadPeriod: 110,\n  KeypadDivide: 111,\n  F1: 112,\n  F2: 113,\n  F3: 114,\n  F4: 115,\n  F5: 116,\n  F6: 117,\n  F7: 118,\n  F8: 119,\n  F9: 120,\n  F10: 121,\n  F11: 122,\n  F12: 123,\n  Shift: 16,\n  Control: 17,\n  LeftShift: 'LeftShift',\n  RightShift: 'RightShift',\n  LeftControl: 'LeftControl',\n  RightControl: 'RightControl',\n  Alt: 18,\n  Plus: 187,\n  Comma: 188,\n  Minus: 189,\n  Period: 190,\n  Tilde: 223\n}\n\nexport default keyCodes\n\nconst byKeyCode = {}\nfor (let name in keyCodes) {\n  byKeyCode[keyCodes[name]] = name\n}\n\nexport const getKeyForCode = code => byKeyCode[code]\n","import React from 'react'\nimport { render } from 'react-dom'\nimport App from './react/App'\nimport './index.css'\n\nconst container = document.createElement('div')\ndocument.body.appendChild(container)\n\nrender(<App />, container)\n","export const RENDER_WIDTH = 320\nexport const RENDER_HEIGHT = 200\n\nexport const WIDTH = 640\nexport const HEIGHT = 400\nexport const TILE_SIZE = 2\nexport const WALL_HEIGHT = 3\nexport const PI_2 = Math.PI * 2\n","import { AmbientLight, Color, Fog, Scene } from 'three'\n\nexport default function createScene () {\n\n  const scene = new Scene()\n  scene.background = new Color('#ffffff')\n  scene.fog = new Fog(scene.background, 0, 100)\n\n  const light = new AmbientLight(new Color('#ffffff'))\n  scene.add(light)\n\n  return scene\n}\n","\nclass Physics {\n\n  colliders = []\n\n  setColliders (colliders) {\n    this.colliders = colliders\n  }\n\n  getColliders (player) {\n    // TODO filter by player position\n    return this.colliders\n  }\n}\n\nexport default new Physics()\n","export default class Circle {\n\n  constructor (x = 0, y = 0, radius = 1) {\n    this.x = x\n    this.y = y\n    this.radius = radius\n  }\n}\n","import React, { Fragment, useState } from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport MapEditor from './MapEditor'\nimport Tileset from './Tileset'\nimport createStore from './state/store'\nimport Tools from './Tools'\nimport Preview from './Preview'\nimport Inspector from './Inspector'\n\nconst [ store, persistor ] = createStore()\n\nexport default function App () {\n\n  const [ loading, setLoading ] = useState(true)\n\n  const imagePath = './assets/tileset.png'\n  const image = new Image()\n  image.addEventListener('load', () => {\n    setLoading(false)\n  })\n  image.src = imagePath\n\n  const tileset = {\n    width: 48,\n    height: 16,\n    tileSize: 16,\n    imagePath,\n    image,\n  }\n\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        {loading && 'loading...'}\n        {!loading && (\n          <Fragment>\n            <MapEditor tileset={tileset} />\n            {/*<Inspector />*/}\n            <Tileset tileset={tileset} />\n            <Tools />\n            <Preview />\n          </Fragment>\n        )}\n      </PersistGate>\n    </Provider>\n  )\n}\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAbA;AACA;AAIA;;;;;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAEA;;;;;;;;AAOA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AAOA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;;;AAMA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAEA;;;;;;;;AAKA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;AAxHA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AALA;AA2HA;AACA;AACA;AACA;;;;;;;;;;;;AC9HA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AARA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAVA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;;;;;;;;;;;;;;;;;;;;;;;;AC5DA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAFA;AAOA;AAAA;AAAA;AACA;AAFA;AAcA;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AAKA;AAEA;AACA;AAIA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAKA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;AAYA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAXA;AAkBA;AACA;;;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;;;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;;;;AA7FA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAUA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AAMA;AAWA;AACA;AACA;;;;;;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAGA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;AAMA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACRA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AAOA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;ACZA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AAKA;AAAA;AACA;AACA;AAAA;AAAA;AAFA;AAAA;AAKA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AACA;AACA;AAEA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAWA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAEA;;;;;;;;AAOA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AAAA;AAAA;;;;;;AAMA;AAEA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;;;;;;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnBA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAIA;;;;;;;;;;;;ACXA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;AA+FA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;ACXA;;;;;;AAEA;;;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;;;;AAGA;;;;;;;;;;;;;;;;ACfA;AAEA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAAA;AAQA;;;;A","sourceRoot":""}